---
title: "Set the Collation of User-defined Databases to Match Those of the master and model Databases | Microsoft Docs"
ms.custom: ""
ms.date: "02/27/2017"
ms.prod: "sql-server-2016"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
applies_to: 
  - "SQL Server 2016 Preview"
helpviewer_keywords: 
  - "Best Practices [Database Engine]"
ms.assetid: c686446f-dae1-4b05-a3df-837b3422988d
caps.latest.revision: 11
ms.author: "jhubbard"
manager: "jhubbard"
robots: noindex,nofollow
---
# Set the Collation of User-defined Databases to Match Those of the master and model Databases
  This rule checks whether user-defined databases are defined by using a database collation that is the same as the collation for master or model.  
  
## Best Practices Recommendations  
 We recommend that the collations of user-defined databases match the collation of master or model. Otherwise, collation conflicts can occur that might prevent code from executing. For example, when a stored procedure joins one table to a temporary table, [!INCLUDE[ssNoVersion](../a9notintoc/includes/ssnoversion-md.md)] might end the batch and return a collation conflict error if the collations of the user-defined database and the model database are different. This occurs because temporary tables are created in tempdb, which bases its collation on that of model.  
  
 If you experience collation conflict errors, consider one of the following solutions:  
  
-   Export the data from the user database and import it into new tables that have the same collation as the master and model databases.  
  
-   Rebuild the system databases to use a collation that matches the user database collation. For more information about how to rebuild the system databases, see [Rebuild System Databases](../relational-databases/databases/rebuild-system-databases.md).  
  
-   Modify any stored procedures that join user tables to tables in tempdb to create the tables in tempdb by using the collation of the user database. To do this, add the `COLLATE database_default` clause to the column definitions of the temporary table, as shown in the following example:  
  
    ```  
    CREATE TABLE #temp1 ( c1 int, c2 varchar(30) COLLATE database_default )  
    ```  
  
## For More Information  
 [Set or Change the Database Collation](../relational-databases/collations/set-or-change-the-database-collation.md)  
  
 [Set or Change the Column Collation](../relational-databases/collations/set-or-change-the-column-collation.md)  
  
 [ALTER DATABASE &#40;Transact-SQL&#41;](../t-sql/statements/alter-database-transact-sql.md)  
  
 [COLLATE &#40;Transact-SQL&#41;](../Topic/COLLATE%20\(Transact-SQL\).md)  
  
 [sys.databases &#40;Transact-SQL&#41;](../relational-databases/reference/system-catalog-views/sys.databases-transact-sql.md)  
  
 [Microsoft Knowledge Base article 325335](http://go.microsoft.com/fwlink/?linkid=117751)  
  
 [How to: Install SQL Server 2008 from the Command Prompt](http://go.microsoft.com/fwlink/?LinkId=81585)  
  
## See Also  
 [Monitor and Enforce Best Practices by Using Policy-Based Management](../relational-databases/policy-based-management/monitor-and-enforce-best-practices-by-using-policy-based-management.md)  
  
  