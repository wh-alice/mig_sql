---
title: "sys.dm_db_xtp_merge_requests (Transact-SQL) | Microsoft Docs"
ms.custom: ""
ms.date: "2017-02-01"
ms.prod: "sql-server-2014"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "database-engine"
  - "database-engine-imoltp"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: c1224e88-af74-4c99-ae32-d5d2c552a1f5
caps.latest.revision: 2
ms.author: "genemi"
manager: "jhubbard"
---
# sys.dm_db_xtp_merge_requests (Transact-SQL)
[!INCLUDE[tsql-appliesto-ss2014-xxxx-xxxx-xxx_md](../../../integration-services/includes/tsql-appliesto-ss2014-xxxx-xxxx-xxx-md.md)]


Tracks database merge requests. The merge request may have been generated by SQL Server or the request could have been made by a user with [sys.sp_xtp_merge_checkpoint_files (Transact-SQL)](../../../relational-databases/reference/system-stored-procedures/sys.sp-xtp-merge-checkpoint-files-transact-sql.md).

> [!NOTE]
> This dynamic management view (DMV), sys.dm_db_xtp_merge_requests, exists until Microsoft SQL Server 2014.
> 
> But starting with SQL Server 2016 this DMV no longer applies.

## Columns in the report

| Column name |	Data type |	Description |
| :-- | :-- | :-- |
| request_state | tinyint | Status of the merge request:<br/>0 = requested<br/>1 = pending<br/>2 = installed<br/>3 = abandoned |
| request_state_desc | nvarchar(60) | Meanings for the current state of the request:<br/><br/>Requested - a merge request exists.<br/>Pending - the merge is being processing.<br/>Installed - the merge is complete.<br/>Abandoned - the merge could not complete, perhaps due to lack of storage. |
| destination_file_id | GUID | The unique identifier of the destination file for the merge of the Source files. |
| lower_bound_tsn | bigint | The minimum timestamp for the target merge file. The lowest transaction timestamp of all the source files to be merged. |
| upper_bound_tsn | bigint | The maximum timestamp for the target merge file. The highest transaction timestamp of all the source files to be merged. |
| collection_tsn | bigint | The timestamp at which the current row can be collected.<br/><br/>A row in the Installed state is removed when checkpoint_tsn is greater than collection_tsn.<br/><br/>A row in the Abandoned state is removed when checkpoint_tsn is less than collection_tsn. |
| checkpoint_tsn | bigint | The time that the checkpoint started.<br/><br/>Any deletes done by transactions with a timestamp lower than this are accounted for in the new data file. The remaining deletes are moved to the target delta file. |
| sourcenumber_file_id | GUID | Up to 16 internal file ids that uniquely identify the source files in the merge. |

## Permissions

Requires VIEW DATABASE STATE permission on the current database.

## See also

[Memory-Optimized Table Dynamic Management Views (Transact-SQL)](../../../relational-databases/reference/system-dynamic-management-views/memory-optimized-table-dynamic-management-views-transact-sql.md)

